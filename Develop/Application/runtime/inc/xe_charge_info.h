/****************************************************************************
*文件说明：协议模块与主程序交互的头文件
*版    本：V1.0
*时    间：2016年12月07日
*****************************************************************************
*/
#ifndef  __XE_CHARGE_INFO_H__
#define  __XE_CHARGE_INFO_H__

#include "xe_global_variable.h"
#include "pub_type.h"
#include "DB_Unity.h"

#pragma pack(push)
#pragma pack(1)

typedef struct auth_res_s
{
    UINT32 swipe_res_flag; //刷卡鉴权回复标识
    UINT8 auth_state;      //鉴权状态标识
    float money;          //用户余额
} auth_res_s;

#pragma pack(pop)

/*******************************************************************************
*函数名:set_heart_need
*功  能:设置是否需要发送心跳包
*入  参:flag:发送心跳与否的标识, 0:不需要, 1:需要
*返回值:无
*
*时  间:2016年12月24日
********************************************************************************
*/
void set_heart_need(UINT32 flag);

/*******************************************************************************
*函数名:get_heart_need
*功  能:获取是否需要发送心跳包
*入  参:无
*返回值:0:不需要, 1:需要
*
*时  间:2016年12月24日
********************************************************************************
*/
UINT32 get_heart_need();

/*******************************************************************************
*函数名:set_card_num
*功  能:设置卡号
*入  参:p_card_no:卡号指针
*返回值:无
*
*时  间:2016年12月24日
********************************************************************************
*/
void set_card_num(UINT8 *p_card_no);

/*******************************************************************************
*函数名:get_card_num
*功  能:获取卡号
*入  参:p_card_no:卡号指针
*返回值:无
*
*时  间:2016年12月24日
********************************************************************************
*/
void get_card_num(UINT8 *p_card_no);

/*******************************************************************************
*函 数 名: get_network_mode
*功  能: 获取网络模式，01:以太网;02:2G;03:3G;04:4G;05:WIFI
*入  参: 无
*返 回 值: 网络模式
*
*时  间:2016年12月07日
********************************************************************************
*/
UINT8 get_network_mode();

/*******************************************************************************
*函数名:get_charge_volt
*功  能:获取充电电压
*入  参:无
*返回值:本次充电电压，返回值为百分之一V
*
*时  间:2016年12月13日
********************************************************************************
*/
UINT32 get_charge_volt();

/*******************************************************************************
*函数名:get_charge_current
*功  能:获取充电电流
*入  参:无
*返回值:本次充电电流，返回值为百分之一A
*
*时  间:2016年12月13日
********************************************************************************
*/
UINT32 get_charge_current();

/*******************************************************************************
*函数名:get_charge_total_kwh
*功  能:获取充电总量
*入  参:无
*返回值:本次充电电量，返回值为百分之一KWH
*
*时  间:2016年12月13日
********************************************************************************
*/
UINT32 get_charge_total_kwh();

/*******************************************************************************
*函数名:set_dev_charge_state
*功  能:设置设备状态
*入  参:设备状态
*返回值:无
*
*备  注:设备状态有:
*       00:空闲; 01:预约; 02:开始放电; 03:充电中; 04:过压; 05:欠压; 06:过流
*       07:急停; 08:充电完成; 09:充电连接异常; 0A:充电机故障;
*       0B:BMS通信故障; 0C:BMS已连接
*
*时  间:2016年12月13日
********************************************************************************
*/
void set_dev_charge_state(UINT8 state);

/*******************************************************************************
*函数名:get_dev_charge_state
*功  能:获取设备状态
*入  参:无
*返回值:设备状态
*
*备  注:设备状态有:
*       00:空闲; 01:预约; 02:开始放电; 03:充电中; 04:过压; 05:欠压; 06:过流
*       07:急停; 08:充电完成; 09:充电连接异常; 0A:充电机故障;
*       0B:BMS通信故障; 0C:BMS已连接
*
*时  间:2016年12月13日
********************************************************************************
*/
UINT8 get_dev_charge_state();

/*******************************************************************************
*函数名:get_gun_connect_state
*功  能:获取枪连接状态
*入  参:无
*返回值:0:枪未连接车; 1:枪已连接到车上
*
*时  间:2016年12月14日
********************************************************************************
*/
UINT8 get_gun_connect_state();

/*******************************************************************************
*函数名:set_stop_flag
*功  能:设置结束充电标识
*入  参:无
*返回值:无
*
*备  注:0:不结束充电; 1:结束充电
*
*时  间:2016年12月16日
********************************************************************************
*/
void set_stop_flag(UINT8 flag);

/*******************************************************************************
*函数名:get_stop_flag
*功  能:获取结束充电标识
*入  参:无
*返回值:0:未结束充电; 1:结束充电
*
*时  间:2016年12月16日
********************************************************************************
*/
UINT8 get_stop_flag();

/*******************************************************************************
*函数名:set_charge_flag
*功  能:设置结束充电标识
*入  参:b_enable:充电使能标识; 0:不准备充电; 1:准备充电
*返回值:无
*
*时  间:2016年12月16日
********************************************************************************
*/
void set_charge_flag(UINT32 b_enable);

/*******************************************************************************
*函数名:get_charge_flag
*功  能:获取充电标识
*入  参:无
*返回值:0:不准备充电; 1:准备充电
*
*时  间:2016年12月16日
********************************************************************************
*/
UINT8 get_charge_flag();

/*******************************************************************************
*函数名:set_swipe_flag
*功  能:设置刷卡鉴权标识
*入  参:flag:刷卡标识，1:刷卡，0:不刷卡
*返回值:无
*
*时  间:2016年12月21日
********************************************************************************
*/
void set_swipe_flag();

/*******************************************************************************
*函数名:get_swipe_flag
*功  能:获取刷卡鉴权标识
*入  参:无
*返回值:刷卡鉴权标识状态, 1:刷卡，0:不刷卡
*
*时  间:2016年12月21日
********************************************************************************
*/
UINT32 get_swipe_flag();

/*******************************************************************************
*函数名:set_charge_method
*功  能:设置充电模式
*入  参:charge_method:充电模式，0:APP充电，1:刷卡充电
*返回值:无
*
*时  间:2016年12月21日
********************************************************************************
*/
void set_charge_method(UINT32 charge_method);

/*******************************************************************************
*函数名:get_charge_method
*功  能:获取充电模式
*入  参:无
*返回值:0:APP充电，1:刷卡充电
*
*时  间:2016年12月21日
********************************************************************************
*/
UINT32 get_charge_method();

/*******************************************************************************
*函数名:get_charge_start_time
*功  能:获取充电起始时间
*入  参:无
*返回值:充电起始时间
*
*时  间:2016年12月22日
********************************************************************************
*/
void get_charge_start_time(SK_TIME *start_time);

/*******************************************************************************
*函数名:get_charge_stop_time
*功  能:获取充电结束时间
*入  参:无
*返回值:充电起始时间
*
*时  间:2016年12月22日
********************************************************************************
*/
void get_charge_stop_time(SK_TIME *stop_time);

/*******************************************************************************
*函数名:get_charge_time
*功  能:获取充电时间
*入  参:无
*返回值:充电时间
*
*时  间:2016年12月22日
********************************************************************************
*/
UINT32 get_charge_time();

/*******************************************************************************
*函数名:set_order_flag
*功  能:设置预约标识
*入  参:预约标识, 0:取消预约; 1:预约
*返回值:无
*
*时  间:2016年12月22日
********************************************************************************
*/
void set_order_flag(UINT32 flag);

/*******************************************************************************
*函数名:get_order_flag
*功  能:获取预约标识
*入  参:无
*返回值:0:取消预约; 1:预约
*
*时  间:2016年12月22日
********************************************************************************
*/
UINT32 get_order_flag();

/*******************************************************************************
*函数名:set_auth_state
*功  能:设置权限回复状态、权限状态、用户余额
*入  参:flag:回复状态，0:未回复; 1:已回复
*       state:权限状态，0:无权限; 0xFF:有权限
*       money:用户余额
*返回值:无
*
*时  间:2016年12月23日
********************************************************************************
*/
void set_auth_res(UINT32 flag, UINT8 state, float money);

/*******************************************************************************
*函数名:get_auth_state
*功  能:获取权限回复状态、权限状态、用户余额
*入  参:auth_res:权限回复消息的结构体指针
*返回值:无
*
*时  间:2016年12月23日
********************************************************************************
*/
void get_auth_res(auth_res_s *auth_res);

/*******************************************************************************
*函数名:set_send_record_flag
*功  能:设置充电记录上报标识
*入  参:flag: 发送充电记录上报标识；0:未发送; 1:已发送
*返回值:无
*
*时  间:2017年02月09日
********************************************************************************
*/
void set_send_record_flag(UINT32 flag);

/*******************************************************************************
*函数名:get_send_record_flag
*功  能:获取充电记录上报标识
*入  参:无
*返回值:0:未发送; 1:已发送
*
*时  间:2017年02月09日
********************************************************************************
*/
UINT32 get_send_record_flag(); 

/*******************************************************************************
*函数名:set_charge_record_flag
*功  能:设置充电记录上报后，服务端回复标识
*入  参:flag: 回复标识；0:未回复; 1:已回复
*返回值:无
*
*时  间:2017年02月09日
********************************************************************************
*/
void set_charge_record_flag(UINT32 flag);

/*******************************************************************************
*函数名:get_charge_record_flag
*功  能:获取充电记录上报后，服务端回复标识
*入  参:无
*返回值:0:未回复; 1:已回复
*
*时  间:2017年02月09日
********************************************************************************
*/
UINT32 get_charge_record_flag();

#endif
